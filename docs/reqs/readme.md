# Оглавление
- [Глоссарий](#glossary)
- [Проблема](#problem)
- [Решение](#solution)
- [Бизнес-требования](#brq)
- [Контекстная диаграмма](#context-diagram)
- [Сценарии](#usecases)
- [Функциональные и нефункциональные требования](#fr_nfr)
- [Базовые тесты](#tests)

----

# <a name="glossary"></a> Глоссарий
* Алиса - Виртуальный голосовой помощник, созданный компанией Яндекс. 
Распознаёт естественную речь, имитирует живой диалог, даёт ответы на вопросы пользователя и, благодаря запрограммированным навыкам, решает прикладные задачи

# <a name="problem"></a> Проблема
Алиса (помощник Яндекса) не поддерживает возможность играть голосом в шахматы. Голосовые шахматы реализованы у конкурентов, например, Алексы.
При этом, с технической точки зрения реализация не должна быть сложной. 
Игра в шахматы может быть монетизируемой, но пока концепции монетизации не разработано.

# <a name="solution"></a> Решение
Реализовать навык для Алисы, с помощью которого можно играть в шахматы голосом. 
Навык должен быть доступен как на устройствах с экраном, так и без.
Использовать готовый шахматный движок. 
Поддержать один язык: русский. 

# <a name="brq"></a> Бизнес-требования и ограничения
## User Stories
### US-1
Я, как пользователь, хочу сыграть с Алисой в шахматы голосом в сокращенной шахматной нотации по современным правилам шахмат ФИДЕ

### US-2
Я, как пользователь, хочу сыграть с Алисой в шахматы голосом без экрана, 
чтобы получить удовольствие от игры и развить свои навыки визуализации ситуации на шахматной доске в уме. 

### US-3
Я, как пользователь, хочу сыграть с Алисой в шахматы голосом с экраном, 
чтобы не затруднять мозг визуалиацией ситуации на шахматной доске. Команды отдаю голосом.

### US-4
Я, как создатель навыка, хочу, чтобы навык одновременно выдерживал до 100 партий, 
чтобы обеспечить хороший пользовательский опыт у достаточного количества игроков

## Constrains
### Constr-1
Время ответа навыка должно быть меньше 3 секунд. Ограничение от платформы навыков Алисы

# <a name="context-diagram"></a> Контекстная диаграмма
## C1
Нарисуем диаграмму уровня C1
```mermaid
    C4Context
      title System Context diagram for Alice Chess Skill
      Person(user, "User", "Игрок в шахматы")
      System(alice, "Yandex Alice", "Голосовой помощник от Яндекса")
      System(skill, "Chess skill", "Навык шахматы вслепую")

      Rel_D(user, alice, "Команды голосом")
      Rel_D(alice, skill, "Команды текстом, ходы")
      Rel_U(skill, alice, "Ответ на команды, ответные ходы, состояние игры")
      Rel_U(alice, user, "Озвучивание сообщений от навыка: ответы, ходы, состояния игры")

```
## C2
Больший интерес может представлять диаграмма уровня C2, отображающая разложение на модули
```mermaid
    C4Container
    title Container diagram for Alice Chess Skill
    Person(user, "User", "Игрок в шахматы")
    System(alice, "Yandex Alice", "Голосовой помощник от Яндекса")
    
    Container_Boundary(c1, "Skill") {
      Container(skill, "Chess Skill", "python", "Обработка команд, преобразование в нотацию, проксирование ходов шахматному движку, управление состоянием игры")
      Container(ce, "Chess Engine", "---", "Шахматный движок StockFish 10")
    }
    
     Rel(user, alice, "Команда", "голос")
     Rel(alice, skill, "Команда", "HTTPS")
     Rel(skill, ce, "Ход, запрос состояния", "code")
     Rel(ce, skill, "Ответный ход, состояние игры", "code")
     Rel(skill, alice, "Ответный ход, состояние игры", "HTTPS")
     Rel(alice, user, "Ответный ход, состояние игры", "голос")
     
```

# <a name="usecases"></a> Сценарии
## Диаграмма юзкейсов

## UC1: Поиграть
### Предусловия
### Постусловия
### Основной сценарий
### Альтернативные сценарии
tbd
Типы ходов:
- Обычный ход
- Невозможный ход
- Ход с двумя стартовыми вариантами
- Взятие фигуры соперника
- Превращение пешки
- Шах
- Мат

## UC2: Посмотреть текущую позицию на доске
tbd
## UC3: Отменить последний ход
tbd
## UC4: Сдаться

# <a name="fr_nfr"></a> Функциональные и нефункциональные требования
## Функциональные требования
FR-1: Преобразовывать текст в команды, понятные движку
tbd
FR-2: 
tbd

## Нефункциональные требования
NFR-1:
tbd

### Возможные состояния навыка
tbd

# <a name="tests"></a> Базовые тесты

# <a name="links"></a> Ссылки
1. [Правила шахмат ФИДЕ](https://handbook.fide.com/chapter/E012018)
2. [Шахматые нотации](https://ru.wikipedia.org/wiki/Шахматная_нотация)
3. [Навык Шахматы вслепую на платформе диалогов Яндекса](https://dialogs.yandex.ru/developer/skills/2310188c-c404-4342-8bbe-d397f25d9de2/)
